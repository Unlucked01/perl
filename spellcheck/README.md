
# Сервис проверки правописания

## Описание

Этот проект представляет собой независимый сервис проверки правописания на русском языке, реализованный на Perl с использованием CGI и базы данных Berkeley DB. Сервис позволяет проверять тексты на наличие орфографических ошибок, предлагает варианты исправлений и позволяет управлять словарем.

## Функциональность

### Основные возможности:

1. **Проверка правописания текста**:
   - Анализ текста на наличие орфографических ошибок
   - Выделение слов с ошибками
   - Предложение вариантов исправления на основе алгоритма Левенштейна

2. **Управление словарем**:
   - Просмотр всех слов в словаре
   - Добавление новых слов
   - Удаление существующих слов
   - Поиск по словарю

3. **Интерактивный интерфейс**:
   - Возможность выбора предложенных вариантов исправления
   - Добавление слов в словарь прямо из интерфейса проверки
   - Применение исправлений и получение исправленного текста

## Технические детали

### Архитектура:

- **Веб-сервер**: Apache HTTP Server
- **Язык программирования**: Perl
- **База данных**: Berkeley DB (DB_File)
- **Контейнеризация**: Docker

### Основные компоненты:

1. **spellcheck.pl** - основной скрипт для проверки правописания:
   - Функция `show_form()` - отображает форму для ввода текста
   - Функция `check_text()` - проверяет текст на наличие ошибок
   - Функция `levenshtein()` - вычисляет расстояние Левенштейна между словами
   - Функция `similarity()` - вычисляет процент схожести слов
   - Функция `find_similar_words()` - ищет похожие слова в словаре
   - Функция `add_to_dictionary()` - добавляет слово в словарь
   - Функция `apply_corrections()` - применяет выбранные исправления

2. **dict_manage.pl** - скрипт для управления словарем:
   - Функция `view_dictionary()` - отображает содержимое словаря с пагинацией
   - Функция `add_word()` - добавляет новое слово в словарь
   - Функция `delete_word()` - удаляет слово из словаря
   - Функция `ensure_dictionary_exists()` - создает словарь, если он не существует

3. **Файлы фронтенда**:
   - CSS-стили для оформления интерфейса
   - JavaScript для интерактивности (замена слов, добавление в словарь)
   - HTML-шаблоны для отображения страниц

### Особенности реализации:

1. **Обработка UTF-8**:
   - Все тексты и слова кодируются/декодируются в UTF-8 для корректной работы с русским языком
   - Используется модуль `Encode` для преобразования кодировок

2. **Алгоритм Левенштейна**:
   - Используется для нахождения расстояния между словами
   - Позволяет определить схожесть слов и предложить варианты исправления

3. **Обработка ошибок**:
   - Используется модуль `CGI::Carp` для вывода ошибок в браузер
   - Блок `eval` для перехвата и обработки исключений

4. **Безопасность**:
   - Экранирование HTML-сущностей для предотвращения XSS-атак
   - Проверка входных данных

## Установка и запуск

### Требования:

- Docker
- Доступ к порту 8081

### Шаги по установке:

1. Клонировать репозиторий
2. Перейти в директорию `spellcheck_service`
3. Запустить скрипт `start.sh`:
   ```bash
   chmod +x start.sh
   ./start.sh
   ```

### Структура проекта:

```
spellcheck_service/
├── cgi-bin/
│   ├── spellcheck.pl     # Основной скрипт проверки правописания
│   └── dict_manage.pl    # Скрипт управления словарем
├── public_html/
│   ├── css/
│   │   └── style.css     # Стили для интерфейса
│   ├── js/
│   │   └── spellcheck.js # JavaScript для интерактивности
│   └── index.html        # Главная страница
├── Dockerfile            # Файл для сборки Docker-образа
├── httpd.conf            # Конфигурация Apache
└── start.sh              # Скрипт для запуска сервиса
```

## Использование

1. Откройте в браузере `http://localhost:8081`
2. Для проверки текста:
   - Нажмите "Проверить правописание"
   - Введите текст в форму
   - Нажмите кнопку "Проверить правописание"
   - Выберите варианты исправления или добавьте слова в словарь
   - Нажмите "Применить исправления"

3. Для управления словарем:
   - Нажмите "Управление словарем"
   - Просматривайте, добавляйте или удаляйте слова

## Особенности и ограничения

1. Сервис работает только с русским языком
2. Алгоритм находит похожие слова с минимальным порогом схожести 80%
3. База данных словаря хранится в файле `/usr/local/apache2/data/spellcheck_dict.db`
4. Сервис запускается на порту 8081

## Дальнейшее развитие

1. Добавление поддержки других языков
2. Улучшение алгоритма поиска похожих слов
3. Добавление грамматической проверки
4. Интеграция с текстовыми редакторами
5. Добавление API для использования сервиса в других приложениях

## Авторы

Сервис разработан как учебный проект для демонстрации возможностей Perl, CGI и Docker.
